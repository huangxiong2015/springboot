<!DOCTYPE html>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<html lang="zh-CN">
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>包邮管理</title>
<c:import url ="/WEB-INF/jsp/include/lemon/constants.jsp"/>
<style>
.datetimepicker-minutes{max-height:250px;overflow-y:auto;}
.input-daterange span.help-block{display:none !important;}
.product-associate p.s-text{padding-top:7px;}
</style>
</head>
<body>
<c:set var="ctx" value="${pageContext.request.contextPath }" scope="request" /> 
<body class="hold-transition skin-blue sidebar-mini detection">
<div class="wrapper"> 
<c:import url ="/WEB-INF/jsp/include/lemon/layout.jsp"/>
  <div class="content-wrapper" id="distributor-detail">
    <section class="content" >
		<div class="row">
          <section class="col-lg-12">
	            <div class="box box-danger ">
	                <!-- Morris chart - Sales -->
	                  <input id="detailId" type="hidden" value="${id}" />
	                  <!-- 新增直出的id -->
	                  <input id="strategId" type="hidden" value=${strategId} />
	                  <div class="box-header with-border">
	                    <h3 class="box-title">包邮管理</h3>
	                  </div>
	                  <div id="freeShipping" class="box-body form-horizontal">
	                  	<form id="create">
	                  		<input type="hidden" name="id" v-model="id">
	                  		<input type="hidden" name="strategyType" value="FREE_DERIVERY">
	                  		<div class="form-group ">
                               <div class="col-md-11">
                                   <label for="specurl" class="col-sm-3 control-label">包邮名称<span class="text-red">*</span></label>
                                    <div class="col-sm-4">
                                    	<input type="text" name="title" id="title" maxlength="50" class="form-control" required v-model="initData.title">
                                   	</div>
                               </div>
                           </div>
                           <div class="form-group ">
                               <div class="col-md-11">
                                   <label for="specurl" class="col-sm-3 control-label">包邮时间<span class="text-red">*</span></label>
                                   <div class="col-sm-4">
	                                   <div id="createDataRange" class="input-daterange input-group">
		                                   <div class="input-append date startDate form_datetime">
			                                   <input type="text" name="startDate" id="startDate" class="form-control" required v-model="initData.startDate">
		                                   </div> 
		                                   <span class="input-group-addon">至</span> 
		                                   <div class="input-append date endDate form_datetime">
			                                   <input type="text" name="endDate" id="endDate" class="form-control" required v-model="initData.endDate">
		                                   </div>
	                                   </div>
                                   </div>
                                   <div class="col-sm-3 daterange-tip" style="color:#eb0038;padding-top:7px;display:none;">请选择有效的包邮时间</div>
                               </div>
                           </div>
	                  	</form>
                            <div class="form-group ">
                               <div class="col-md-11">
                                   <label for="specurl" class="col-sm-3 control-label">包邮商品<span class="text-red">*</span></label>
                                   <div class="col-sm-6">
                                   		<a class="btn btn-primary margin10" @click="addProduct">+添加商品</a>
                                   		<rowspan-table
                                   			v-if="showPrdList"
			                        		:columns="columns"
			                        		:api="prdListApi"
			                        		:query-params="queryParams"
			                        		:default-tip="defaultTip"
			                        		:pageflag="pageflag"
			                        	></rowspan-table>
			                        	<!-- <div class="upload-btn-wrap">
			                        		<button class="btn btn-success">批量删除</button> 
			                        	</div> -->
                                   </div>
                               </div>
                           </div>
                           <div class="box-footer text-center">
                           <button type="button" class="btn btn-danger c-btn" @click="saveData" :disabled="disabled">保存</button> 
                           <button type="button" class="btn btn-concle c-btn" @click="cancel">取消</button>
                           </div>
                           <modal	
                           			v-if="showModal"
			               		   @close="toggleModal"
						           :modal-style="modalStyle"
						           :show-foot="false"
			                >
			                	<h3 slot="header" v-text="modalTitle"></h3>
			                	<product-associate
		                       		:api="productAssociate.api"
		                       		:request-type="productAssociate.requestType"
		                       		:product-data="productAssociate.productData"				                       		
		                       		:is-add="productAssociate.isAdd"
		                       		:is-read-only="true"
		                       		:show-image="productAssociate.showImage"
		                       		@cancel="toggleModal"
		                       		@get-product-info="getProductInfo"
		                       	></product-associate>
			                </modal>
                      </div>
      			</div> 
            </section>
		</div>
    </section>
   </div>
</div>
<jsp:directive.include file="../include/lemon/footer.jsp" />
<script type="text/javascript" src="${ctx}/assets/lemon/1.0.0/lemon-grid.js"></script>
<script type="text/javascript" src="${ctx}/assets/lemon/1.0.0/lemon-modal.js"></script>
<script type="text/javascript" src="${ctx}/js/app/distrManufAssem.js"></script>
<script type="text/javascript" src="${ctx}/js/app/freeShippingEdit.js"></script> 
</body>
</html>