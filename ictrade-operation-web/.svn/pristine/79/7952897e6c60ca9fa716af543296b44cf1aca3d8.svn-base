<!DOCTYPE html>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %> 
<c:set var="ctx" value="${pageContext.request.contextPath }" scope="request" /> 
<html lang="zh-CN">
<head> 
<title>搜索推广管理</title> 
<link rel="stylesheet" href="${ctx}/css/app/extensionEdit.css">
<c:import url ="/WEB-INF/jsp/include/lemon/constants.jsp"/>
</head>
<body class="hold-transition skin-blue sidebar-mini detection">
<div class="wrapper"> 
<c:import url ="/WEB-INF/jsp/include/lemon/layout.jsp"/>
  <div class="content-wrapper" id="recuit-edit">
	<section class="content-header">
	  <h1>搜索推广<small>编辑</small></h1>
	  <ol class="breadcrumb">
	    <li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li>
	    <li class="active">搜索推广</li>
	  </ol>
	</section> 
    <section class="content" style=" color:#666;">
    <form class="form-horizontal" name="searchPromotion" id="searchPromotion" onsubmit="return false;">    
    <div class="row">
        <section class="col-lg-12">
          <div class="box box-danger">
              <!-- Morris chart - Sales -->
              <input type="hidden" name="status" :value="initData.status"/>
              <input type="hidden" name="recommendationId" :value="initData.recommendationId"/>
                <div class="box-header with-border">
                  <h3 class="box-title">搜索推广</h3>
                </div>
				<input type="hidden" id="newsId" name="newsId" :value="initData.newsId">
                <div class="box-body "> 
                 
                <div class="form-group ">
                	<div class="col-md-11">
                   		<label class="col-sm-2 control-label">排序：<span class="text-red">*</span></label>
                        <div class="col-sm-4" >
                           	<select class="form-control" id="orderSeq" name="orderSeq" v-model="initData.orderSeq">
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
							</select>
                    	</div>
                 	</div>
                 </div>
                
                <div class="form-group ">
                    <div class="col-md-11">
                        <label for="regionCategoryId" class="col-sm-2 control-label">推广规则：<span class="text-red">*</span></label>
                    </div>
                </div>  
                
				<!-- 分销商  -->
                <div class="form-group"  v-bind:class="{distributor :isdistributor}">
                	<div class="col-md-11">
                    	<label class="col-sm-2 control-label">分销商</label>
                        <div class="col-sm-4" >
                       		<span id="_distributor" style="padding-right:15px;">{{activeVendorName===''?'不限':activeVendorName}}</span>
                            <a id="distributor" class="lh32">选择</a>
                            <input type="hidden" :value="initData.distributor" name="distributor"/>   
                        </div>
			                               
						<div id="titleList" style="display:none;">
							<div class="search_criteria">
						    	<a style="width:32px;" v-on:mouseover="firstSearch(titleList,'',$event)">全部</a>
						    	<a v-for="ele in titleLetter" v-on:mouseover="ele.ishave=='yes'?firstSearch(titleList,ele.letter,$event):''" v-bind:class="ele.ishave=='no'?'disable':''">{{ele.letter}}</a>
						    	<a style="width:32px;" v-on:mouseover="titleShowOther?firstSearch(titleList,'other',$event):''" v-bind:class="titleShowOther?'':'disable'">其他</a>
						    	<span class="rel ml5">
						      		<input type="text" placeholder="快速查找" class="search_box" style="width:151px;height:24px;line-height:24px;padding-left:20px;" v-model="query" v-on:keyup="inputSearch(titleList)">
						      		<i class="icon-smallSearch abs search_icon"></i>
						    	</span>
						  	</div>
					  		<div class="supplier_list">     
						    	<span v-for="(ele,ids) in titleList" v-show="ele.ishave" v-bind:class="[((ids+1)%5==0&&ids!==0?'mr0':'')]"><a :data-id="ele.id"   v-on:click="selectSupplier(ele,$event,'vendor')" href="javascript:;">{{ele.partyGroup.groupName}}</a></span>  
					  		</div>
					  		<div v-if="noTitleData">
						  		搜索无结果
					  		</div>
						</div>
                	</div>
                </div>
                
                <!-- 原厂  -->
                 <div class="form-group"  v-bind:class="{manufacturer :ismanufacturer}">
                 	<div class="col-md-11">
                    	<label class="col-sm-2 control-label">原厂</label>
                       	<div class="col-sm-4" >
                           	<span id="_selectBrand" style="padding-right:15px;">{{activeBrandName===''?'不限':activeBrandName}}</span>
                       		<a id="selectBrand" onClick="showData()">选择</a>
                       		<input type="hidden" :value="initData.source" name="source"/>   
                        </div>
                        <div id="brandList" style="display:none;">
							<div class="search_criteria">
						    	<a style="width:32px;" v-on:mouseover="firstSearch(brandList,'',$event)">全部</a>
							    <a v-for="ele in brandLetter" v-on:mouseover="ele.ishave=='yes'?firstSearch(brandList,ele.letter,$event):''" v-bind:class="ele.ishave=='no'?'disable':''">{{ele.letter}}</a>
							    <a style="width:32px;" v-on:mouseover="brandShowOther?firstSearch(brandList,'other',$event):''" v-bind:class="brandShowOther?'':'disable'">其他</a>
							    <span class="rel ml5">
						      		<input type="text" placeholder="快速查找" class="search_box" style="width:151px;height:24px;line-height:24px;padding-left:20px;" v-model="query" v-on:keyup="inputSearch(brandList)">
						      		<i class="icon-smallSearch abs search_icon"></i>
						    	</span>
						  	</div>
						  	<div class="supplier_list">     
						    	<span v-for="(ele,ids) in brandList"     v-show="ele.ishave"  v-bind:class="[((ids+1)%5==0&&ids!==0?'mr0':'')]"><a :data-id="ele.id"   v-on:click="selectSupplier(ele,$event,'brand')" href="javascript:;">{{ele.brandName}}</a></span>  
						  	</div>
						  	<div v-if="noBrandData">
						  		搜索无结果
					  		</div>
						</div>
											
                   	</div>
               	</div>
                
                <!-- 分类 -->
                <div class="form-group ">
                	<div class="col-md-11">
                   		<label class="col-sm-2 control-label">分类</label>
                   		<div id="app-select" class="col-md-4">
						    <select-province
						            :api="api"
						            @onchange="change"
						            :input-class="inputClass"
						            :style-object="styleObject"
						            :name-province="nameFirst" 
						            :name-city="nameSecond" 
						            :name-district="nameThird"  
						            :id-province="idFirst" 
    								:id-city="idSecond" 
    								:id-district="idThird"
    								:parent-id="parentId"
    								:option-id="optionId"
            						:option-name="optionName"
            						:set-province="initData.categoryType1"
            						:set-city="initData.categoryType2"
            						:set-district="initData.categoryType3"
						    ></select-province>
						</div>
                 	</div>
                 </div>
                
                <div class="form-group ">
                    <div class="col-md-11">
                        <label for="extend" class="col-sm-2 control-label">推广商品数：<span class="text-red">*</span></label>
                        <div class="col-sm-4"> 
                            <input type="text" class="form-control" name="goodsQuantity" id="extend" required v-model="initData.goodsQuantity" maxlength="5" placeholder="不超过10条" onkeyup='this.value=this.value.replace(/^[0]+|\D/gi,"")'/>
                        </div>
                    </div>
                </div>
                
                <div class="form-group ">
                    <div class="col-md-11">
                        <label for="desc" class="col-sm-2 control-label">推广描述：<span class="text-red">*</span></label>
                         <div class="col-sm-10" >
		          			<!-- 使用的时，将这个部分引入到页面中start -->
							<div id="desc" class="ueditor_wrapper"> 
								<textarea style="width:470px;height:80px;resize:none;" name="desc" required placeholder="不超过50个字符" maxlength="50" v-model="initData.desc"></textarea>
							</div>
							<!-- 使用的时，将这个部分引入到页面中end --> 
						</div>
                    </div>
                </div>
                
                </div>
				<input type="hidden" id="iframeUrl_Id" value="<spring:eval expression="@appProps.getProperty('ueditor.iframeUrl')"/>" />
                <div class="box-footer text-center">
                    <button type="button" class="btn btn-danger c-btn" onclick="requireSaveData();">保存</button>
                    <button type="button" class="btn btn-danger c-btn" onclick="goBack();">取消</button>
                </div>
                <input type="hidden" value="RECRUITMENT" name="categoryTypeId">
                <input type="hidden" value="" id="categoryType" name="categoryType">
          </div>
		</section>
		</div>
	</form>
	</section>
</div>
<jsp:directive.include file="../include/lemon/footer.jsp" />
<script src="${ctx}/assets/lemon/1.0.0/lemon-select.js"></script> 
<script src="${ctx}/assets/lemon/1.0.0/lemon-city.js"></script>
<script type="text/javascript" src="${ctx}/js/lib/pinyin.js"></script> 
<script type="text/javascript" src="${ctx}/js/app/searchPromotionEdit.js"></script>

</body>
</html>