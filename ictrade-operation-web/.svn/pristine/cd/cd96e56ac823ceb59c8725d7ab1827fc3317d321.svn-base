<!DOCTYPE html>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<c:set var="ctx" value="${pageContext.request.contextPath }" scope="request" />

<!--[if IE 8 ]>    <html class="ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9" lang="zh-CN"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="zh-CN">
<!--<![endif]-->

<head>
  <title>编辑供应商</title>
  <c:import url ="/WEB-INF/jsp/include/lemon/constants.jsp"/>
  <link rel="stylesheet" href="${ctx}/css/app/vendor.css"/>
</head>

<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

	<!---index header  start   ---->
<c:import url ="/WEB-INF/jsp/include/lemon/layout.jsp"/>
	<!---index nav  end   ---->
	<div class="content-wrapper" id="detailVendor">
		<section class="content-header">
			<h1>
		 		编辑供应商
	  		</h1> 
	  	</section>
	  	<div class="vendor-tab">
	  		<a :class="{active: tabValue === 'baseData'}" @click="tabValue = 'baseData'">基本信息</a>
	  		<a :class="{active: tabValue === 'product'}" @click="tabValue = 'product'">产品线</a>
	  		<a :class="{active: tabValue === 'credit'}" @click="tabValue = 'credit'">信用</a>
	  		<a :class="{active: tabValue === 'sales'}" @click="tabValue = 'sales'">销售信息</a>
	  	</div>
	  	
  		<section class="content" style="color: rgb(102, 102, 102);">
	  		<div class="row">
	  			<section class="col-lg-12">
	  				<div class="box box-danger ">
	  					<div class="box-header">
	  						<div>供应商名称：{{baseData.groupNameFull}}</div>
	  					</div>
					  	<div class="box-body ">
					  		<!-- 基本信息表单 -->
					  		<form name="createVendorBase" id="createVendorBase" onsubmit="return false;" class="form-horizontal" novalidate="novalidate" v-show="tabValue === 'baseData'">
						  		<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商全称：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<input class="form-control vendor-input" type="text" name="groupNameFull" v-model="baseData.groupNameFull"/>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商简称：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="groupName" v-model="baseData.groupName"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商编码：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="partyCode" v-model="baseData.partyCode"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">所属分类：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<select class="form-control vendor-input" name="category" v-model="baseData.category">
										  			<option v-for="item in categoryList" :value="item.categoryId">{{item.categoryName}}</option>
										  		</select>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">核心供应商：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<label class="form-label"><input type="radio" value="Y" name="vendorCore" v-model="baseData.isCore"/> 是</label>
									  			<label class="form-label"><input type="radio" value="N" name="vendorCore" v-model="baseData.isCore"/> 否</label>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商logo：</label>
									  	<div class="col-sm-9">
									  		<span class="upload-logo">
									  			<span class="upload-logo">
										  			<img alt="" :src="vendorLogo!==''?vendorLogo: '../images/default_logo.png'" width="100" height="100"/>
										  			<input type="file" id="upload-logo"/>
										  			<i>上传logo</i>
										  		</span>
										  		<label class="upload-label">仅支持JPG、PNG、JPEG、GIF格式，文件小于10M</label>
									  		</span>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商官网：</label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="website" v-model="baseData.vendorInfoAttributeMap.VENDOR_INFO_WEBSITE"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">所属地区：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<select class="form-control vendor-input" name="region" v-model="baseData.region">
									  			<option v-for="item in regionList" :value="item.categoryId">{{item.categoryName}}</option>
									  		</select>
									  	</div>
			  						</div>
			  					</div>
			  					
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商总公司：</label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="generalHeadquarters" v-model="baseData.generalHeadquarters"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">公司类型：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<label class="form-label" v-for="item in companyTypeList"><input type="radio" :value="item.categoryId" name="genre" v-model="baseData.genre"/> {{item.categoryName}}</label>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">是否上市：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<label class="form-label"><input type="radio" value="Y" name="listed" v-model="baseData.listed"/> 是</label>
									  			<label class="form-label"><input type="radio" value="N" name="listed" v-model="baseData.listed"/> 否</label>
									  			<input type="text" class="form-control vendor-input-s inline" placeholder="请输入股票代码" name="stockCode" v-model="baseData.stockCode" v-if="baseData.listed === 'Y'"/>
									  		</div>
									  		
									  	</div>
			  						</div>
			  					</div>
			  					
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">公司法人：</label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="legalPerson" v-model="baseData.vendorInfoAttributeMap.VENDOR_INFO_LEGALPERSON"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">注册资金：</label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="regPrice" v-model="baseData.vendorInfoAttributeMap.VENDOR_INFO_REGPRICE"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">注册地址：</label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="regAddress" v-model="baseData.vendorInfoAttributeMap.VENDOR_INFO_REGRADDRESS"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">员工人数：</label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<input class="form-control vendor-input" type="text" name="employeeNum" v-model="baseData.vendorInfoAttributeMap.VENDOR_INFO_EMPLOYEENUM"/>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">分管部门：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<div class="vendor-text">
									  			<select class="form-control vendor-input" name="deptId" v-model="departmentId">
										  			<option v-for="item in deptList" :value="item.id">{{item.name}}</option>
										  		</select>
									  		</div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">负责人：</label>
									  	<div class="col-sm-9">
									  		<select class="form-control vendor-input" name="principalId" v-model="principalId">
									  			<option v-for="item in userList" :value="item.partyId">{{item.partyAccount}}</option>
									  		</select>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">询价员：</label>
									  	<div class="col-sm-9">
									  		<select class="form-control vendor-input" name="enquiryId" v-model="enquiryId">
									  			<option v-for="item in userList" :value="item.partyId">{{item.partyAccount}}</option>
									  		</select>
									  	</div>
			  						</div>
			  					</div>
		  					</form>
		  					<!-- 基本信息表单 -->
		  					<!-- 产品线表单 -->
		  					<form name="createVendorProduct" id="createVendorProduct" onsubmit="return false;" class="form-horizontal" novalidate="novalidate" v-show="tabValue === 'product'">
		  						<div class="product-label">请选择产品线：<span class="text-red">*</span></div>
		  						
		  						<div class="product-table">
		  							<table class="table table-head">
		  								<thead>
		  									<tr>
		  										<th>品牌</th>
		  										<th>大类</th>
		  										<th>小类</th>
		  										<th>次小类</th>
		  										<th width="120">操作</th>
		  									</tr>
		  								</thead>
		  							</table>
		  							<div class="table-body">
		  								<table class="table">
		  									<tbody>
		  										<tr v-for="(item, $index) in productLines">
		  											<td>{{item.brandName}}</td>
		  											<td>{{item.category1Name?item.category1Name: '不限'}}</td>
		  											<td><span v-if="item.category1Name">{{item.category2Name?item.category2Name: '不限'}}</span><span v-else>*</span></td>
		  											<td><span v-if="item.category2Name">{{item.category3Name?item.category3Name: '不限'}}</span><span v-else>*</span></td>
		  											<td width="120"><a href="javascript:void(0);" @click="editProductItem($index)">编辑</a><a href="javascript:void(0);" @click="deleteProductItem($index)">删除</a></td>
		  										</tr>
		  									</tbody>
		  								</table>
		  							</div>
		  						</div>
		  						
		  						<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-1 control-label">上传</label>
									  	<div class="col-sm-10">
									  		<div class="upload-file" @click="uploadProductLine()">
									  			<span>选择文件</span>
									  		</div>
									  		<a href="${ctx}/resources/download/授权代理线.xlsx" class="download-temp">Excel模板下载</a>
									  		
									  		<span>*支持xls、xlsx、csv的Excel文件、大小不超过5M，上传后将页面呈现所选类别</span>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-1 control-label">或</label>
									  	<div class="col-sm-10">
									  		<div class="vendor-text blue" ><a href="javascript:void(0);" @click="productSelectFlag = true">在线选择产品线</a></div>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="product-select" v-if="productSelectFlag">
			  						<letter-select
								            :keyname="keyname"
								            :id="id"
								            :api="api"
								            :name="name"
								            :option-id="optionId"
								            :option-name="optionName"
								            @get-selecteds="getBrandSelected"
								            :multiple="multiple"
								            :placeholder="placeholder"
								            :selected="selected"
								            ref="letter"    
								    ></letter-select>
								    <div class="product-cate-tit" v-if="multBrand">
								    	选择分类：
								    </div>
								    
								    <div class="product-cate" v-if="multBrand">
								    	<select-province
											@onchange="change"
								            :input-class="inputClass"
								            :style-object="styleObject"
								            :api="category"
								            :option-id="cateId"
								            :option-name="cateName"
								            :set-province="setProvince"
								            :set-city="setCity"
								            :set-district="setDistrict"
								            :parent-id="parentId"
								            :query-param="queryParam"	
								            :placeholder="catePlaceholder"	
								            ref="refs"    
									    >
									    </select-province>
								    </div>
								    
								    <div class="product-cate-tit">
								    	已选择：
								    	<div class="data-selected" v-for="(item, $index) in productItems">
									    	<span>{{item.brandName}}</span>
									    	<span v-if="item.category1Name">- {{item.category1Name?item.category1Name: '所有大类'}}</span>
									    	<span v-if="item.category1Name">- {{item.category2Name?item.category2Name: '所有小类'}}</span>
									    	<span v-if="item.category2Name">- {{item.category3Name?item.category3Name: '所有次小类'}}</span>
								    		<i @click="removeSelected($index)">x</i>
								    	</div>
								    </div>
  									<div class="bank-info-create center">
				  						<button type="button" @click="saveProduct()" class="btn btn-danger c-btn">确定</button>
				  						<button type="button" @click="productSelectFlag = false"  class="btn btn-cancel c-btn">取消</button>
				  					</div>
			  					</div>
		  					</form>
		  					<!-- 产品线表单 -->
		  					<!-- 信用表单 -->
		  					<form name="createVendorCredit" id="createVendorCredit" onsubmit="return false;" class="form-horizontal" novalidate="novalidate" v-show="tabValue === 'credit'">
		  						<!-- 账期信息 -->
		  						<div class="product-label">账期信息</div>
		  						<div class="form-group ">
		  							<label for="title" class="col-sm-2 control-label">信用额度：</label>
								  	<div class="col-sm-9">
								  		<input class="form-control vendor-input-p inline" type="text" name="creditQuota" v-model="creditInfo.creditQuota"/>
								  		<select class="form-control vendor-hlaf-s inline" name="currency" v-model="creditInfo.currency">
								  			<option value="CNY">RMB</option>
								  			<option value="USD">USD</option>
								  		</select>
								  	</div>
								</div>
							  	<div class="form-group ">
		  							<label for="title" class="col-sm-2 control-label">授信期限：</label>
								  	<div class="col-sm-9">
								  		月结  <input class="form-control vendor-input-d inline" type="text" name="creditDeadline" v-model="creditInfo.creditDeadline"/>天
								  	</div>
							  	</div>
		  						<div class="form-group">
		  							<label for="title" class="col-sm-2 control-label">对账日期：</label>
								  	<div class="col-sm-9">
								  		<input class="form-control vendor-input-l inline" type="text" name="checkDate" v-model="creditInfo.checkDate"/>天
								  	</div>
		  						</div>
		  						<div class="form-group">
		  							<label for="title" class="col-sm-2 control-label">付款日期：</label>
								  	<div class="col-sm-9">
								  		<input class="form-control vendor-input-l inline" type="text" name="payDate" v-model="creditInfo.payDate"/>日
								  	</div>
		  						</div>
		  						<div class="form-group">
		  							<label for="title" class="col-sm-2 control-label">付款条件：</label>
								  	<div class="col-sm-9">
								  		<input class="form-control vendor-input" type="text" name="paymentTerms" v-model="creditInfo.paymentTerms"/>
								  	</div>
		  						</div>
		  						<div class="form-group">
		  							<label for="title" class="col-sm-2 control-label">结算方式：</label>
								  	<div class="col-sm-9">
								  		<input class="form-control vendor-input" type="text" name="settlementMethod" v-model="creditInfo.settlementMethod"/>
								  	</div>
		  						</div>
		  						<div class="form-group">
		  							<label for="title" class="col-sm-2 control-label">应付余额：</label>
								  	<div class="col-sm-8">
								  		<div class="vendor-text">7000.00RMB</div>
								  	</div>
		  						</div>
		  						<div class="form-group">
		  							<label for="title" class="col-sm-2 control-label">剩余额度：</label>
								  	<div class="col-sm-9">
								  		<div class="vendor-text">3000.00RMB</div>
								  	</div>
			  						
			  					</div>
			  					<!-- 账期信息 -->
			  					<!-- 银行资料 -->
			  					<div class="product-label">银行资料</div>
			  					<ul class="bank-info-list">
			  						<li v-for="(bank, $index) in creditInfo.partyBankAccount">
			  							<div class="bank-info bank-h">
			  								<div class="back-info-h">{{bank.currency==='CNY'?'RMB':bank.currency}}账号 <span v-if="bank.isDefault === 'Y'">默认</span></div>
			  								<div class="back-info-item">
			  									账户名称 : <span :title="bank.accountName">{{bank.accountName}}</span>
			  								</div>
			  								<div class="back-info-item">
			  									开户银行 : <span :title="bank.bankName">{{bank.bankName}}</span>
			  								</div>
			  								<div class="back-info-item">
			  									银行账号 : <span :title="bank.bankAccount">{{bank.bankAccount}}</span>
			  								</div>
			  								<div class="back-info-item" v-if="bank.currency === 'CNY'">
			  									税号 : <span :title="bank.taxNumber">{{bank.taxNumber}}</span>
			  								</div>
			  								<div class="back-info-item">
			  									地址 : <span :title="bank.address">{{bank.address}}</span>
			  								</div>
			  								<div class="back-info-item" v-if="bank.currency === 'CNY'">
			  									电话 : <span :title="bank.contactNumber">{{bank.contactNumber}}</span>
			  								</div>
			  								<div class="back-info-item" v-if="bank.currency === 'USD'">
			  									SWIFT CODE : <span :title="bank.swiftCode">{{bank.swiftCode}}</span>
			  								</div>
			  								<div class="bank-info-btn"><a href="javascript:void(0);" @click="addBankInfo('edit', $index)">编辑</a><a href="javascript:void(0);" @click="deleteBankInfo($index)">删除</a></div>
			  							</div>
			  						</li>
			  					</ul>
			  					<div class="bank-info-create">
			  						<button type="button" @click="addBankInfo('add')" class="btn btn-danger c-btn">新增银行账号</button>
			  					</div>
			  					<!-- 银行资料 -->
			  					<!-- 协议 -->
			  					<div class="product-label">协议</div>
			  					
			  					<div class="form-group ">
			  						<div class="col-md-6 form-group">
			  							<label for="title" class="col-sm-3 control-label">采购协议：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<select class="form-control vendor-hlaf inline" name="purchaseDeal" v-model="creditInfo.creditAttributeMap.VENDOR_CREDIT_PURCHASEDEAL">
									  			<option value="ALREADY_SIGN">已签</option>
									  			<option value="NOT_SIGN">未签</option>
									  			<option value="ALREADY_SPE_SIGN">已特批</option>
									  		</select>
									  	</div>
			  						</div>
			  						<div class="col-md-6 form-group">
			  							<label for="title" class="col-sm-3 control-label">协议有效期：</label>
									  	<div class="col-sm-8">
									  		<input class="form-control vendor-hlaf inline" type="text" name="purchaseDealDate" v-model="creditInfo.creditAttributeMap.VENDOR_CREDIT_PURCHASEDEALDATE"/>
									  	</div>
			  						</div>
			  						<div class="col-md-6 form-group">
			  							<label for="title" class="col-sm-3 control-label">保密协议：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<select class="form-control vendor-hlaf inline" name="secrecyProtocol" v-model="creditInfo.creditAttributeMap.VENDOR_CREDIT_SECRECYPROTOCOL">
									  			<option value="ALREADY_SIGN">已签</option>
									  			<option value="NOT_SIGN">未签</option>
									  			<option value="ALREADY_SPE_SIGN">已特批</option>
									  		</select>
									  	</div>
			  						</div>
			  						<div class="col-md-6 form-group">
			  							<label for="title" class="col-sm-3 control-label">协议有效期：</label>
									  	<div class="col-sm-8">
									  		<input class="form-control vendor-hlaf inline" type="text" name="secrecyProtocolDate" v-model="creditInfo.creditAttributeMap.VENDOR_CREDIT_SECRECYPROTOCOLDATE"/>
									  	</div>
			  						</div>
			  						<div class="col-md-6 form-group">
			  							<label for="title" class="col-sm-3 control-label">附件：</label>
									  	<div class="col-sm-8">
									  		<span class="file-btn">添加文件 <input type="file" id="upload-deal"/></span> <span>支持格式：Excel、PDF、压缩文件</span>
									  		 <div class="lemon-tag inline tag" v-for="(item, $index) in creditInfo.creditAttachmentList"><span class="lemon-tag-text">{{item.attachmentName}}</span> <i class="fa fa-close" @click="removeAttachment($index)"></i></div>
									  	</div>
			  						</div>
			  					</div>
			  					<!-- 协议 -->
		  					</form>
		  					<!-- 信用表单 -->
		  					<!-- 销售信息 -->
		  					<form name="createVendorSales" id="createVendorSales" onsubmit="return false;" class="form-horizontal" novalidate="novalidate" v-show="tabValue === 'sales'">
		  						
		  						<div class="product-label">销售基本信息</div>
		  						<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">是否审核订单：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<label class="form-label"><input type="radio" value="Y" name="orderVerify" v-model="salesInfo.orderVerify"/> 是</label>
									  		<label class="form-label"><input type="radio" value="N" name="orderVerify" v-model="salesInfo.orderVerify"/> 否</label>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">是否显示名称：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<label class="form-label"><input type="radio" value="Y" name="isShowName" v-model="salesInfo.isShowName"/> 是</label>
									  		<label class="form-label"><input type="radio" value="N" name="isShowName" v-model="salesInfo.isShowName"/> 否</label>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">供应商仓库：</label>
									  	<div class="col-sm-9">
									  		<span class="mb" v-for="(item, $index) in salesInfo.facilityList"><input class="form-control vendor-input" type="text" name="facility" v-model="salesInfo.facilityList[$index].facilityName"/></span>
									  		<a href="javascript:void(0)" @click="addFacility()">新增仓库</a>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">支持币种：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<label class="form-label"><input type="checkbox" value="RMB" name="currencyRmb"/> RMB</label>
									  		<label class="form-label"><input type="checkbox" value="USD" name="currencyUsd"/> USD</label>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">最小订单金额：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<span v-if="showRmb" class="mb"><input type="text" class="form-control vendor-input-t inline" name="minOrderPriceCNY" v-model="salesInfo.minOrderPriceCNY"/> <span>RMB</span></span>
									  		<span v-if="showUsd" class="mb"><input type="text" class="form-control vendor-input-t inline" name="minOrderPriceUSD" v-model="salesInfo.minOrderPriceUSD"/> <span>USD</span></span>
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-11">
			  							<label for="title" class="col-sm-2 control-label">装运条款：<span class="text-red">*</span></label>
									  	<div class="col-sm-9">
									  		<textarea class="form-control vendor-input vendor-textarea" name="description" v-model="salesInfo.description" max-length="100"></textarea>
									  		<!-- <span>{{discriptLength(salesInfo.description)}}/100</span> -->
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-6">
			  							<label for="title" class="col-sm-3 control-label">应付余额：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<div class="vendor-text">--</div>
									  		<!-- <div class="vendor-text">{{vendorSaleInfoVo.balanceDue?vendorSaleInfoVo.balanceDue:'--'}}</div> -->
									  	</div>
			  						</div>
			  						<div class="col-md-6">
			  							<label for="title" class="col-sm-3 control-label">剩余余额：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<div class="vendor-text">--</div>
									  		<!-- <div class="vendor-text">{{vendorSaleInfoVo.balanceDue?vendorSaleInfoVo.balanceDue:'--'}}</div> -->
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-6">
			  							<label for="title" class="col-sm-3 control-label">最后交易日期：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<div class="vendor-text">--</div>
									  		<!-- <div class="vendor-text">{{vendorSaleInfoVo.lastTransactionDate?vendorSaleInfoVo.lastTransactionDate:'--'}}</div> -->
									  	</div>
			  						</div>
			  						<div class="col-md-6">
			  							<label for="title" class="col-sm-3 control-label">最后交易金额：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<div class="vendor-text">--</div>
									  		<!-- <div class="vendor-text">{{vendorSaleInfoVo.lastTransactionPrice?vendorSaleInfoVo.lastTransactionPrice:'--'}}</div> -->
									  	</div>
			  						</div>
			  					</div>
			  					<div class="form-group ">
			  						<div class="col-md-6">
			  							<label for="title" class="col-sm-3 control-label">最后付款日期：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<div class="vendor-text">--</div>
									  		<!-- <div class="vendor-text">{{vendorSaleInfoVo.lastPayDate?vendorSaleInfoVo.lastPayDate:'--'}}</div> -->
									  	</div>
			  						</div>
			  						<div class="col-md-6">
			  							<label for="title" class="col-sm-3 control-label">最后付款金额：<span class="text-red">*</span></label>
									  	<div class="col-sm-8">
									  		<div class="vendor-text">--</div>
									  		<!-- <div class="vendor-text">{{vendorSaleInfoVo.lastPaymPrice?vendorSaleInfoVo.lastPaymPrice:'--'}}</div> -->
									  	</div>
			  						</div>
			  					</div>
			  					
			  					<enter-input :options="focusFieldsOptions" :keyname="focusFieldsname" :id="focusFieldsId" :name="focusFieldsName" :input-class="focusFieldsClass" :placeholder="focusFieldsPlaceholder"></enter-input>
			  				
			  					<enter-input :options="productCategorysOptions" :keyname="productCategorysname" :id="productCategorysId" :name="productCategorysName" :input-class="productCategorysClass" :placeholder="productCategorysPlaceholder"></enter-input>
			  				
			  					<enter-input :options="majorClientsOptions" :keyname="majorClientsname" :id="majorClientsId" :name="majorClientsName" :input-class="majorClientsClass" :placeholder="majorClientsPlaceholder"></enter-input>
			  					
			  						
			  					<div class="product-label">联系人信息</div>
			  					<div class="bank-info-create">
			  						<button type="button" @click="addContact('add')" class="btn btn-danger c-btn">新增联系人</button>
			  					</div>
			  					<ul class="bank-info-list">
			  						<li v-for="(item, $index) in salesInfo.contactPersonInfoList">
			  							<div class="bank-info">
			  								<div class="back-info-h">{{item.lastNameLocal}} <div class="bank-info-btn"><a href="javascript:void(0);" @click="addContact('edit', $index)">编辑</a><a href="javascript:void(0);" @click="deleteContactInfo($index)">删除</a></div></div>
			  								<div class="back-info-item">
			  									职位: {{item.occupation}}
			  								</div>
			  								<div class="back-info-item">
			  									职能: <span v-if="item.personalTitle === 'ENQUIRY'">询价</span><span v-if="item.personalTitle === 'ORDER'">下单</span><span v-if="item.personalTitle === 'NOT_LIMIT'">询价、下单</span>
			  								</div>
			  								<div class="back-info-item">
			  									邮箱: {{item.mail}}
			  								</div>
			  								<div class="back-info-item">
			  									电话: {{item.fixedtel}}
			  								</div>
			  								<div class="back-info-item">
			  									手机: {{item.tel}}
			  								</div>
			  								<div class="back-info-item">
			  									联系人地址: <span :title="item.address">{{item.address}}</span>
			  								</div>
			  								<!-- <div class="back-info-item">
			  									产品线: ADI-无源器件-电阻-所有次小类
			  								</div>	
			  								 -->
			  							</div>
			  						</li>
			  					</ul>
		  					</form>
		  					<!-- 销售信息 -->
		  				</div>
	  					<div class="box-footer text-center">
	  						<button type="button" @click="saveBaseData();" class="btn btn-danger c-btn" v-show="tabValue === 'baseData'">保存</button>  
		  					<!-- 产品线 -->
		  					<button type="button" @click="saveProductData();" class="btn btn-danger c-btn" v-show="tabValue === 'product'">保存</button>  
		  					<!-- 产品线 -->
		  					<!-- 信用 -->
		  					<button type="button" @click="saveCreditData();" class="btn btn-danger c-btn" v-show="tabValue === 'credit'">保存</button>  
		  					<!-- 信用  -->
		  					<!-- 销售信息 -->
		  					<button type="button" @click="saveSalesData()" class="btn btn-danger c-btn" v-show="tabValue === 'sales'">保存</button> 
		  					<!-- 销售信息  -->
	  					</div>	
	  				</div>	
	  			</section>
	  		</div>
	 	</section>
		<section id="file-upload" style="display:none;">
			<form>
				<div class="form-group">
					<label class="form-label">添加产品线：</label>
					<div class="form-control">
						<span class="btn btn-primary">
							上传文件
							<input type="file" id="uploadProductFile"/>
						</span>
						<span v-if="fileName !== ''">{{fileName}}<i class="label-success">上传成功</i></span>
						 <a href="${ctx}/resources/download/授权代理线.xlsx">Excel模板下载</a>	
						<div class="tip">*支持xls、xlsx、csv的Excel文件、大小不超过5M，上传后将页面呈现上传商品</div>
					</div>
				</div>
			</form>
		</section>
		
		<div class="bank_layer" style="display: none;">
			<form onsubmit="return false;" class="form-horizontal" novalidate="novalidate" id="bankLayer">
				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">币种：</label>
					  	<div class="col-sm-9">
					  		<select class="form-control vendor-input" v-model="partyBankAccount.currency">
					  			<option value="CNY">RMB</option>
					  			<option value="USD">USD</option>
					  		</select>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">账户名称：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="accountName" v-model="partyBankAccount.accountName"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">开户银行：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="bankName" v-model="partyBankAccount.bankName"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">银行账号：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="bankAccount" v-model="partyBankAccount.bankAccount"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group" v-if="partyBankAccount.currency === 'CNY'">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">税号：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="taxNumber" v-model="partyBankAccount.taxNumber"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">地址：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="address" v-model="partyBankAccount.address"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group" v-if="partyBankAccount.currency === 'CNY'">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">电话：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="contactNumber" v-model="partyBankAccount.contactNumber"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group" v-if="partyBankAccount.currency === 'USD'">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">SWIFT CODE：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="swiftCode" v-model="partyBankAccount.swiftCode"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label"></label>
					  	<div class="col-sm-9">
					  		<label class="form-label"><input type="checkbox" value="Y" name="isDefault" v-model="partyBankAccount.isDefault"/> 设置为默认银行资料</label>
					  	</div>
 					</div>
 				</div>
 				
			</form>
  		</div>
  		
  		<div class="contact_layer" style="display: none;">
			<form onsubmit="return false;" class="form-horizontal" novalidate="novalidate" id="contactLayer">
				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">联系人：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="lastNameLocal" v-model="contactPersonInfo.lastNameLocal"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">联系人职位：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="occupation" v-model="contactPersonInfo.occupation"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">联系人职能：</label>
					  	<div class="col-sm-9">
					  		<label class="form-label"><input type="checkbox" value="ENQUIRY" name="enquiry"/> 询价</label>
							<label class="form-label"><input type="checkbox" value="ORDER" name="order"/> 下单</label>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">联系人负责的产品线：</label>
					  	<div class="col-sm-9">
					  		<div class="vendor-text">
					  			<a href="javascript:void(0);" @click="showProductLine()">选择</a>
					  			<div class="contact-productline">
					  				<p v-for="item in checkProductLine"><span></span></p>
					  			</div>
					  		</div>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">邮箱：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="mail" v-model="contactPersonInfo.mail"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">电话：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="fixedtel" v-model="contactPersonInfo.fixedtel"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">手机：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="tel" v-model="contactPersonInfo.tel"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label">联系人地址：</label>
					  	<div class="col-sm-9">
					  		<input type="text" class="form-control vendor-input inline" name="address" v-model="contactPersonInfo.address"/>
					  	</div>
 					</div>
 				</div>
 				<div class="form-group">
 					<div class="col-md-11">
 						<label for="title" class="col-sm-2 control-label"></label>
					  	<div class="col-sm-9">
					  		<label class="form-label"><input type="checkbox" value="Y" name="isDefault" v-model="contactPersonInfo.isDefault"/> 设置为默认联系人</label>
					  	</div>
 					</div>
 				</div>
 				
			</form>
  		</div>
  		
  		<div class="productline_layer" style="display: none;">
  			<div class="productline-head">选择产品线：<input type="text" placeholder="输入品牌或分类" v-model="searchData"/></div>
  			<div class="product-table">
  				<table class="table table-head"><thead><tr><th width="75"><label><input type="checkbox" v-model='checked' v-on:click='checkedAll'/> 选择</label></th><th>品牌</th> <th>大类</th> <th>小类</th> <th>次小类</th></tr></thead></table>
  				<div class="table-body">
  					<table class="table">
  						<tbody>
  							<tr v-for="item in productLines">
  								<td width="75"><input type="checkbox" v-model='checkboxModel' :value="item.partyProductLineId"/></td>
								<td>{{item.brandName}}</td>
								<td>{{item.category1Name?item.category1Name: '不限'}}</td>
								<td><span v-if="item.category1Name">{{item.category2Name?item.category2Name: '不限'}}</span><span v-else>*</span></td>
								<td><span v-if="item.category2Name">{{item.category3Name?item.category3Name: '不限'}}</span><span v-else>*</span></td>
							</tr>
  						</tbody>
  					</table>
  				</div>
  			</div>
  		</div>
		
	 </div>
	  	
	<!---footer  start   ---->
<jsp:directive.include file="../include/lemon/footer.jsp" />

<script type="text/javascript" src="${ctx}/js/lib/plupload-2.1.2/js/plupload.full.min.js"></script>
<script type="text/javascript" src="${ctx}/js/oss/oss_uploader.js"></script>
<script type="text/javascript" src="${ctx}/assets/lemon/1.0.0/lemon-letter-select.js"></script>
<script type="text/javascript" src="${ctx}/assets/lemon/1.0.0/lemon-city.js"></script>
<script type="text/javascript" src="${ctx}/assets/lemon/1.0.0/lemon-enter-input.js"></script>
<script type="text/javascript" src="${ctx}/js/app/vendorEdit.js"></script>
</div>	    
</body>
</html>
