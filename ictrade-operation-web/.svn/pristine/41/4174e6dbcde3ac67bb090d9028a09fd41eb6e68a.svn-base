<!DOCTYPE html>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<c:set var="ctx" value="${pageContext.request.contextPath }"
	scope="request" />

<!--[if IE 8 ]>    <html class="ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9" lang="zh-CN"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="zh-CN">
<!--<![endif]-->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<c:import url="/WEB-INF/jsp/include/main/constants.jsp" />
<%-- <link rel="stylesheet" href="${ctx}/css/app/goods.css"> --%>
<title>物料详情</title>
<style type="text/css">
/* 物料详情  */
.table .name {
	background-color: #eeeeee;
	text-align: right;
	padding-right: 10px;
}

.table .value {
	background-color: #fff;
	text-align: left;
	padding-left: 10px;
}

a:hover, a:active, a:focus {
	color: #23527c;
}

#largeImg {
	position: absolute;
	z-index: 99999;
}

.litterImg {
	width:100px;
	height:100px;
}

.bigImg {
	width: 200px;
	height: 200px;
	border:2px solid #d6d6d6;
}
</style>
</head>

<body class="hold-transition skin-blue sidebar-mini">
	<!---index header  start   ---->
	<jsp:directive.include file="../include/main/header.jsp" />
	<!---index header  end   ---->
	<!---index nav  start   ---->
	<jsp:directive.include file="../include/main/menu.jsp" />
	<!---index nav  end   ---->

	<!-- Main content -->
	<div class="content-wrapper  ms-controller" style="min-height: 406px;"
		ms-controller=list>
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<a href="#" class="header_tab pitch_tab">商品详情</a>
		</section>
		<section ms-controller="list" class="content container-fluid"
			wid="list">
			<div class="row mt20">
				<div class="col-xs-6">
					<div class="row ">
						<div class="row ">
							<div class="col-xs-2 tr pl0">
								<label>物料型号：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span ms-text="@list.manufacturerPartNumber"></span>
							</div>
						</div>
						<div class="row mt30">
							<div class="col-xs-2 tr">
								<label>物料分类：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span>
									<ul ms-for="(index,ele) in @list.categories">
										<li :if="ele.cateLevel=='1'" class="l">{{ele.cateName}}></li>
										<li :if="ele.cateLevel=='2'" class="l">{{ele.cateName}}></li>
										<li :if="ele.cateLevel=='3'" class="l">{{ele.cateName}}</li>
									</ul>
								</span>
							</div>
						</div>
						<div class="row mt30">
							<div class="col-xs-2 tr">
								<label>制造商：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span ms-text="@list.manufacturer"></span>
							</div>
						</div>
						<div class="row mt30">
							<div class="col-xs-2 tr">
								<label>物料图片：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span>
									<ul ms-for="(index,ele) in @list.images"
										ms-on-mouseover="@fn()" ms-on-mouseout="@fn1()">
										<li :if="ele.type == 'thumbnail'" class="l">
										 <img src="${ctx}/images/defaultImg01.jpg" class="litterImg"  ms-attr="{'src':ele.url}"></li>
										<li :if="ele.type == 'large'" class="l" id="largeImg" :visible="@toggle">
										<img src="${ctx}/images/defaultImg01.jpg" class="bigImg" ms-attr="{'src':ele.url}"></li>
									</ul>
								</span>
							</div>
						</div>
						<div class="row mt30">
							<div class="col-xs-2 tr">
								<label>SPEC文档地址：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span>
									<ul ms-for="(index,ele) in @list.documents">
										<li class="mt5" :if="ele.type=='datasheets'"><a
											target="_blank" ms-attr="{'href':ele.url}">{{ele.url}}</a></li>
										<li class="mt5" :if="ele.type=='designResources'"><a
											target="_blank" ms-attr="{'href':ele.url}">{{ele.url}}</a></li>
										<li class="mt5" :if="ele.type=='featuredProduct'"><a
											target="_blank" ms-attr="{'href':ele.url}">{{ele.url}}</a></li>
									</ul>
								</span>
							</div>
						</div>
						<div class="row mt30">
							<div class="col-xs-2 tr">
								<label>RoHS标准：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span :if="!@list.rohs == undefined" :text="@list.rohs?'是':'否'"></span>
								<span :if="@list.rohs == undefined">--</span>
							</div>
						</div>
						<div class="row mt30">
							<div class="col-xs-2 tr ">
								<label>物料描述：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span ms-text="@list.description"></span>
							</div>
						</div>
						<div class="row mt30  mb30">
							<div class="col-xs-2 tr ">
								<label>状态：</label>
							</div>
							<div class="col-xs-10 c5e">
								<span>有效</span>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xs-6">
					<div class="row">
						<div class="col-xs-2 pl0">
							<label>物料参数：</label>
						</div>
						<div class="col-xs-10 c5e">
							<table class="table">
								<tbody>
									<tr ms-for="(index,ele) in @list.parameters">
										<td class="name">{{ele.name}}</td>
										<td class="value">{{ele.value}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<!-- <div class="row mt30">    
				<div class="col-xs-1 tr pt14">
					<label>技术支持：</label>
				</div>
				<div class="col-xs-11 c5e">
					<dl>
						ms-for:el in @list.specs
						ms-for-end:
					</dl>
				</div>
			</div> -->

			<!-- <div class="row mt20 mb20">
				<div class="col-xs-1 tr pt10">
					<label>最后修改：</label>
				</div>
				<div class="col-xs-11 c5e">
					<div >
					<span >admin</span>
					</div>
				</div>
			</div> -->
		</section>
		<%-- <div style="margin-left: 2%; padding-bottom: 60px; margin-top: 16px;">
			<a href="${ctx}/basicMaterial.htm"
				style="color: #4F86DD; font-size: 14px;">&lt;返回</a>
		</div> --%>
	</div>
	<!-- Main content end -->
	<script type="text/javascript">
		var selectCatid = "239,298";
	</script>
	<!---footer  start   ---->
	<jsp:directive.include file="../include/main/footer.jsp" />
	<!---footer  end   ---->

	<script type="text/javascript">
		var id = getQueryString("id") ? getQueryString("id") : " ";
		$(function() {
			getdetailData(); //获取列表数据 
		});

		var materialDetail = avalon.define({
			$id : 'list',
			list : [],
			toggle : false,
			fn : function() {
				materialDetail.toggle = true;
			},
			fn1 : function() {
				materialDetail.toggle = false;
			}

		})
		var a;
		function getdetailData() {
			$.aAjax({
						url : ykyUrl.product + "/v1/products/stand/" + id,
						//url : "http://192.168.1.253:27083/v1/products/stand/" + id,
						type : "GET",
						success : function(data) {
							//如果没有返回images这个属性  或者  images里面没有元素  或者  iamges里面第一个元素是个默认图，那么就显示易库易的默认图  
							if (!data.images
									|| data.images.length < 1
									|| data.images[0].url
											.indexOf("/photos/nophoto/p") > -1) {
								data.images = [ {
									"type" : "thumbnail",
									"url" : ykyUrl._this
											+ '/images/defaultImg01.jpg'
								} ];
							}
							materialDetail.list = data;
							//图片链接到详情页  
							// materialDetail.list.href = ykyUrl.portal + "/product/detail.htm?id=" +data.id;
						},
						error : function(data) {

						}
					})
		}
	</script>
</body>
</html>