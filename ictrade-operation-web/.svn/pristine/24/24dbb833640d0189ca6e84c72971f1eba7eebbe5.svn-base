<!DOCTYPE html>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<c:set var="ctx" value="${pageContext.request.contextPath }" scope="request" />

<!--[if IE 8 ]>    <html class="ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9" lang="zh-CN"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="zh-CN">
<!--<![endif]-->

<head>
	<!-- jQuery 1.11.3 -->
<script src="${ctx}/js/lib/jquery-1.11.3.min.js"></script>
  <c:import url ="/WEB-INF/jsp/include/main/constants.jsp"/>
  <link rel="stylesheet" href="${ctx}/js/lib/zTree/zTreeStyle.css"/>
  <link rel="stylesheet" href="${ctx}/css/app/helpMaintain.css"/>
  <title>部门管理</title>
</head>

<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

	<!---index header  start   ---->
	<jsp:directive.include file="../include/main/header.jsp" />
	<!---index header  end   ---->
	 <!---index nav  start   ---->
	<jsp:directive.include file="../include/main/menu.jsp" />
	<!---index nav  end   ---->

	  <!-- 右边内容显示 -->
	  <div class="content-wrapper" >
		<section class="content-header">
			<a href="#" class="header_tab pitch_tab">部门管理</a>
		</section>
		<section class="content container-fluid">
			<div class="tree_area"> <!-- style="position:absolute;padding: 5px;margin: 20px;width: 300px;height: 565px;border: 1px solid #d2d2d2;" -->
				<p style="background-color: #f8f8f8;line-height:36px;padding-left:10px;color:#333;font-size:14px;">部门视图</p>
				<div>
				   <ul id="treeDemo" class="ztree"></ul>
				</div>
			</div>
			<div class="h_content_area ms-controller" :controller="list">
				<p style="background-color: #f8f8f8;line-height:36px;padding-left:10px;color:#333;font-size:14px;">部门维护</p>
				<div class="load_complete" style="margin:20px;">
					<p class="mb20 f16">
						<span id="pathName0"></span>
					    <em class="dn">></em><span id="pathName1"></span>
						<em class="dn">></em><span id="pathName2"></span>
						<em class="dn">></em><span id="pathName3"></span>
						<a href="javascript:void(0);"  :if="!@newContentBtn" :click="@editMenu()" class="btn btn-sm btn-danger pull-right"><i class="fa fa-plus"></i> 新增</a>
					</p>
					<table cellspacing="0" cellpadding="0" class="f14 g3" style="width:100%;" :if="!@newContentBtn">
			    		<thead>
				    		<tr>
				    			<th style="width:5%;">编号</th>
				    			<th style="width:15%;">部门名称</th>
				    			<th style="width:11%;">上级部门</th>
				    			<th style="width:13%;">创建时间</th>
				    			<th style="width:13%;">最后一次编辑时间</th>
				    			<th style="width:14%;">操作人</th>
				    			<th style="width:13%;">操作</th>
				    		</tr>
			    		</thead>
			    		<tbody>
			    			<tr class="show_list" :for="(index,ele) in @childrenList">
			    				<th :text="index+1"></th>
				    			<td :text="ele.name"></td>
				    			<td :text="@parentName"></td>
				    			<td :text="ele.createdDate"></td>
				    			<td :text="ele.lastUpdateDate"></td>
				    			<td :text="ele.account"></td>
				    			<td>
				    				<a href="javascript:void(0);" class="m_delete_icon" :click="@editMenu(ele)"></a>
				    				<!-- <a href="javascript:void(0);" class="m_edit_icon ml10" :click="@deleteMenu(ele.id)"></a> -->
				    			</td>
			    			</tr>
			    		</tbody>
	    			</table>
	    			<div class="new_save f14 bdc mt10" :if="!@newContentBtn" >
	    			 <p style="background-color: #f8f8f8;height:30px;line-height:30px" class="pl20 g3"><span :if="@editStatusTip">新增</span><span :if="!@editStatusTip">编辑</span>部门</p>
	    			 <p class="mt20 pl20">
		    			 <span class="g3">部门名称：</span>
		    			 <input maxlength="12" type="text" id="menuName" style="width:200px;height:25px;line-height:25px;":duplex="@menuData.name" :focus="@focusNewMenu">
		    			 <span :if="@emptyValid" class="red" style="font-size:12px;padding-left:10px;color:red;">部门名称不能为空！</span>
	    			 </p>
	    			 <p class="mt20 mb20 pl20"><a :click="@saveData" class="edit_btn">保存</a><a class="edit_btn" :click="@editMenu()">取消</a></p>
	    			</div>
				</div>
			</div>
		</section>
		<script type="text/javascript">
			var selectCatid = "400,401";
		</script>
	<!---footer  start   ---->
	<jsp:directive.include file="../include/main/footer.jsp" />
	<!---footer  end   ---->
</div>
</body>
<script type="text/javascript" src="${ctx}/js/lib/zTree/jquery.ztree.all.js"></script>
<script type="text/javascript" src="${ctx}/js/app/department.js"></script>

</html>
