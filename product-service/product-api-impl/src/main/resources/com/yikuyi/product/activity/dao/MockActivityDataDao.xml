<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yikuyi.product.activity.dao.MockActivityDataDao" >
  <resultMap id="BaseResultMap" type="com.yikuyi.activity.vo.MockActivityDataVo" >
    <id column="PARTY_ID" property="partyId" jdbcType="VARCHAR" />
    <result column="PARTY_NAME" property="partyName" jdbcType="VARCHAR" />
    <result column="ACTIVITY_TYPE" property="activityType" jdbcType="VARCHAR" />
    <result column="GIFT" property="gift" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="TIMESTAMP" />
    <result column="MOCK_ACT_ID" property="mockType" jdbcType="VARCHAR" />
    <result column="LAST_UPDATE_DATE" property="lastUpdateDate" jdbcType="TIMESTAMP" />
  </resultMap>
  <insert id="save" parameterType="com.yikuyi.activity.vo.MockActivityDataVo" >
        INSERT IGNORE INTO `MOCK_ACTIVITY_DATA` (`PARTY_ID`, `PARTY_NAME`, `ACTIVITY_TYPE`,`GIFT`, `CREATE_DATE`, `MOCK_ACT_ID`) 
        VALUES (#{partyId,jdbcType=VARCHAR}, #{partyName,jdbcType=VARCHAR}, #{activityType,jdbcType=VARCHAR},#{gift,jdbcType=VARCHAR},#{createDate,jdbcType=TIMESTAMP},#{mockType,jdbcType=VARCHAR})
  </insert>
  <select id="listGift" resultMap="BaseResultMap">
   SELECT PARTY_ID,PARTY_NAME,ACTIVITY_TYPE,GIFT,CREATE_DATE,MOCK_ACT_ID ,NOW() AS LAST_UPDATE_DATE FROM `MOCK_ACTIVITY_DATA`
   WHERE MOCK_ACT_ID = #{mockType,jdbcType=VARCHAR}
   ORDER BY CREATE_DATE DESC
  </select>
</mapper>