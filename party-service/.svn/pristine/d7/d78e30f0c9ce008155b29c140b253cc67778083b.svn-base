<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yikuyi.party.party.dao.PartyAttributeDao">
	<resultMap id="BaseResultMap" type="com.yikuyi.party.model.PartyAttribute">
		<id column="ATTR_NAME" property="key" jdbcType="VARCHAR" />
		<result column="ATTR_VALUE" property="value" jdbcType="VARCHAR" />
		<result column="ATTR_ID" property="attrId" jdbcType="VARCHAR" />
		<result column="PARENT_ATTR_ID" property="parentAttrId" jdbcType="VARCHAR" />
		<result column="CREATOR" property="creator" jdbcType="VARCHAR" />
		<result column="CREATED_DATE" property="createdDate" jdbcType="TIMESTAMP" />
		<result column="LAST_UPDATE_USER" property="lastUpdateUser"
			jdbcType="VARCHAR" />
		<result column="LAST_UPDATE_DATE" property="lastUpdateDate"
			jdbcType="TIMESTAMP" />
	</resultMap>

	 <!-- 所属行业 -->
	<insert id="insertIndustryCategory" parameterType="com.yikuyi.party.model.Party">
			insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.industryCategory.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.industryCategory.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.industryCategory.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.industryCategory.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.industryCategory.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.industryCategory.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.industryCategory.key != null">
				#{partyAttributes.industryCategory.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.industryCategory.value != null">
				#{partyAttributes.industryCategory.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.industryCategory.creator != null">
				#{partyAttributes.industryCategory.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.industryCategory.createdDate != null">
				#{partyAttributes.industryCategory.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.industryCategory.lastUpdateUser != null">
				#{partyAttributes.industryCategory.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.industryCategory.lastUpdateDate != null">
				#{partyAttributes.industryCategory.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
			
		</trim>
	</insert> 
	
	
	<!-- 所属行业其它属性拓展属性 -->
	<insert id="insertOtherAttrs" parameterType="com.yikuyi.party.model.Party">
			insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.otherAttrs.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.otherAttrs.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.otherAttrs.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.otherAttrs.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.otherAttrs.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.otherAttrs.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.otherAttrs.key != null">
				#{partyAttributes.otherAttrs.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.otherAttrs.value != null">
				#{partyAttributes.otherAttrs.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.otherAttrs.creator != null">
				#{partyAttributes.otherAttrs.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.otherAttrs.createdDate != null">
				#{partyAttributes.otherAttrs.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.otherAttrs.lastUpdateUser != null">
				#{partyAttributes.otherAttrs.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.otherAttrs.lastUpdateDate != null">
				#{partyAttributes.otherAttrs.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
			
		</trim>
	</insert> 
	
<!-- 插入资质信息属性qqq -->
	<insert id="insertCerAttrs" parameterType="com.yikuyi.party.model.Party">
			insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.certificateAttrs.attrId != null">
				ATTR_ID,
			</if>
			<if test="partyAttributes.certificateAttrs.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.certificateAttrs.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.certificateAttrs.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.certificateAttrs.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.certificateAttrs.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.certificateAttrs.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
			<if test="partyAttributes.certificateAttrs.parentAttrId != null">
				PARENT_ATTR_ID,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.certificateAttrs.attrId != null">
				#{partyAttributes.certificateAttrs.attrId,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.certificateAttrs.key != null">
				#{partyAttributes.certificateAttrs.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.certificateAttrs.value != null">
				#{partyAttributes.certificateAttrs.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.certificateAttrs.creator != null">
				#{partyAttributes.certificateAttrs.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.certificateAttrs.createdDate != null">
				#{partyAttributes.certificateAttrs.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.certificateAttrs.lastUpdateUser != null">
				#{partyAttributes.certificateAttrs.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.certificateAttrs.lastUpdateDate != null">
				#{partyAttributes.certificateAttrs.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.certificateAttrs.parentAttrId != null">
				#{partyAttributes.certificateAttrs.parentAttrId,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert> 
	
	<!-- 公司官网 -->
	<insert id="insertWebSite" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.webSite.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.webSite.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.webSite.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.webSite.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.webSite.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.webSite.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.webSite.key != null">
				#{partyAttributes.webSite.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.webSite.value != null">
				#{partyAttributes.webSite.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.webSite.creator != null">
				#{partyAttributes.webSite.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.webSite.createdDate != null">
				#{partyAttributes.webSite.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.webSite.lastUpdateUser != null">
				#{partyAttributes.webSite.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.webSite.lastUpdateDate != null">
				#{partyAttributes.webSite.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>

	<!-- 简介 -->
	<insert id="insertLoa" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.loa.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.loa.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.loa.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.loa.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.loa.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.loa.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.loa.key != null">
				#{partyAttributes.loa.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.loa.value != null">
				#{partyAttributes.loa.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.loa.creator != null">
				#{partyAttributes.loa.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.loa.createdDate != null">
				#{partyAttributes.loa.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.loa.lastUpdateUser != null">
				#{partyAttributes.loa.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.loa.lastUpdateDate != null">
				#{partyAttributes.loa.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>

	<!-- 公司类型 -->
	<insert id="insertCorporationCategory" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.corporationCategory.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.corporationCategory.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.corporationCategory.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.corporationCategory.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.corporationCategory.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.corporationCategory.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.corporationCategory.key != null">
				#{partyAttributes.corporationCategory.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.corporationCategory.value != null">
				#{partyAttributes.corporationCategory.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.corporationCategory.creator != null">
				#{partyAttributes.corporationCategory.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.corporationCategory.createdDate != null">
				#{partyAttributes.corporationCategory.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.corporationCategory.lastUpdateUser != null">
				#{partyAttributes.corporationCategory.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.corporationCategory.lastUpdateDate != null">
				#{partyAttributes.corporationCategory.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
	
	
		<!-- 资料完善度 -->
	<insert id="insertInfoLevel" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.infoLevel.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.infoLevel.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.infoLevel.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.infoLevel.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.infoLevel.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.infoLevel.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.infoLevel.key != null">
				#{partyAttributes.infoLevel.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.infoLevel.value != null">
				#{partyAttributes.infoLevel.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.infoLevel.creator != null">
				#{partyAttributes.infoLevel.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.infoLevel.createdDate != null">
				#{partyAttributes.infoLevel.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.infoLevel.lastUpdateUser != null">
				#{partyAttributes.infoLevel.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.infoLevel.lastUpdateDate != null">
				#{partyAttributes.infoLevel.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
		<!-- 邓氏编码 -->
	<insert id="insertDCode" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.dCode.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.dCode.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.dCode.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.dCode.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.dCode.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.dCode.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.dCode.key != null">
				#{partyAttributes.dCode.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.dCode.value != null">
				#{partyAttributes.dCode.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.dCode.creator != null">
				#{partyAttributes.dCode.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.dCode.createdDate != null">
				#{partyAttributes.dCode.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.dCode.lastUpdateUser != null">
				#{partyAttributes.dCode.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.dCode.lastUpdateDate != null">
				#{partyAttributes.dCode.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
	<!-- 公司资质 -->
	<insert id="insertCorporationQualData" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE	(
		     ATTR_ID, PARTY_ID,ATTR_NAME,ATTR_VALUE,CREATOR,CREATED_DATE,LAST_UPDATE_USER,LAST_UPDATE_DATE,PARENT_ATTR_ID)
		values
		<foreach collection="partyAttributes.corporationQualData" item="item" index="index" separator=",">
			(#{item.attrId},
			#{id},
			#{item.key},
			#{item.value},
			#{item.creator},
			#{item.createdDate},
			#{item.lastUpdateUser},
			#{item.lastUpdateDate},
			#{id}
			)
		</foreach>
	</insert>
		<!-- 税务登记 -->
	<insert id="insertCorporationFaxData" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE	(
		     ATTR_ID, PARTY_ID,ATTR_NAME,ATTR_VALUE,CREATOR,CREATED_DATE,LAST_UPDATE_USER,LAST_UPDATE_DATE,PARENT_ATTR_ID)
		values
		<foreach collection="partyAttributes.corporationFaxDataInfo" item="item" index="index" separator=",">
			(#{item.attrId},
			#{id},
			#{item.key},
			#{item.value},
			#{item.creator},
			#{item.createdDate},
			#{item.lastUpdateUser},
			#{item.lastUpdateDate},
			#{id}
			)
		</foreach>
	</insert>
		<!-- 营业执照 -->
	<insert id="insertCorporationBusLicData" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE	(
		     ATTR_ID, PARTY_ID,ATTR_NAME,ATTR_VALUE,CREATOR,CREATED_DATE,LAST_UPDATE_USER,LAST_UPDATE_DATE,PARENT_ATTR_ID)
		values
		<foreach collection="partyAttributes.corporationBusLicDataInfo" item="item" index="index" separator=",">
			(#{item.attrId},
			#{id},
			#{item.key},
			#{item.value},
			#{item.creator},
			#{item.createdDate},
			#{item.lastUpdateUser},
			#{item.lastUpdateDate},
			#{id}
			)
		</foreach>
	</insert>
		<!-- 组织机构执照 -->
	<insert id="insertCorporationOrgData" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE	(
		     ATTR_ID, PARTY_ID,ATTR_NAME,ATTR_VALUE,CREATOR,CREATED_DATE,LAST_UPDATE_USER,LAST_UPDATE_DATE,PARENT_ATTR_ID)
		values
		<foreach collection="partyAttributes.corporationOrgDataInfo" item="item" index="index" separator=",">
			(#{item.attrId},
			#{id},
			#{item.key},
			#{item.value},
			#{item.creator},
			#{item.createdDate},
			#{item.lastUpdateUser},
			#{item.lastUpdateDate},
			#{id}
			)
		</foreach>
	</insert>
	<!-- 是否显示名称 Y(显示),N(不显示) -->
	<insert id="insertIsShowName" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.isShowName.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.isShowName.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.isShowName.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.isShowName.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.isShowName.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.isShowName.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.isShowName.key != null">
				#{partyAttributes.isShowName.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.isShowName.value != null">
				#{partyAttributes.isShowName.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.isShowName.creator != null">
				#{partyAttributes.isShowName.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.isShowName.createdDate != null">
				#{partyAttributes.isShowName.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.isShowName.lastUpdateUser != null">
				#{partyAttributes.isShowName.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.isShowName.lastUpdateDate != null">
				#{partyAttributes.isShowName.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
	
<!-- 	地址币种 -->
	<insert id="insertUsedCurruncy" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.usedCurruncy.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.usedCurruncy.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.usedCurruncy.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.usedCurruncy.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.usedCurruncy.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.usedCurruncy.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
			<if test="partyAttributes.usedCurruncy.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.usedCurruncy.key != null">
				#{partyAttributes.usedCurruncy.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.usedCurruncy.value != null">
				#{partyAttributes.usedCurruncy.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.usedCurruncy.creator != null">
				#{partyAttributes.usedCurruncy.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.usedCurruncy.createdDate != null">
				#{partyAttributes.usedCurruncy.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.usedCurruncy.lastUpdateUser != null">
				#{partyAttributes.usedCurruncy.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.usedCurruncy.lastUpdateDate != null">
				#{partyAttributes.usedCurruncy.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
	<select id="getPartAttribute" resultMap="BaseResultMap">
		SELECT
		ATTR_ID,ATTR_NAME,ATTR_VALUE,PARENT_ATTR_ID FROM `PARTY_ATTRIBUTE` WHERE
		PARTY_ID=#{id,jdbcType=VARCHAR}
	</select>
	
   <!-- 	更新是否显示供应商名称 -->
	<update id="updateIsShowName" parameterType="com.yikuyi.party.model.Party">
      update PARTY_ATTRIBUTE
	    <set>
	      <if test="partyAttributes.isShowName.value != null">
	        ATTR_VALUE = #{partyAttributes.isShowName.value,jdbcType=VARCHAR},
	      </if>
	      <if test="partyAttributes.isShowName.creator != null">
	        CREATOR = #{partyAttributes.isShowName.creator,jdbcType=VARCHAR},
	      </if>
	      <if test="partyAttributes.isShowName.createdDate != null">
	        CREATED_DATE = #{partyAttributes.isShowName.createdDate,jdbcType=TIMESTAMP},
	      </if>
	      <if test="partyAttributes.isShowName.lastUpdateUser != null">
	        LAST_UPDATE_USER = #{partyAttributes.isShowName.lastUpdateUser,jdbcType=VARCHAR},
	      </if>
	      <if test="partyAttributes.isShowName.lastUpdateDate != null">
	        LAST_UPDATE_DATE = #{partyAttributes.isShowName.lastUpdateDate,jdbcType=TIMESTAMP},
	      </if>
	    </set>
	    where ATTR_NAME = 'IS_SHOW_NAME' AND PARTY_ID = #{id,jdbcType=VARCHAR}
  </update>
  
  <!-- 	更新是否支持价格策略 -->
	<update id="updateIsSupPrice" parameterType="com.yikuyi.party.model.Party">
      update PARTY_ATTRIBUTE
	    <set>
	      <if test="partyAttributes.isShowName.value != null">
	        ATTR_VALUE = #{partyAttributes.isShowName.value,jdbcType=VARCHAR},
	      </if>
	      <if test="partyAttributes.isShowName.creator != null">
	        CREATOR = #{partyAttributes.isShowName.creator,jdbcType=VARCHAR},
	      </if>
	      <if test="partyAttributes.isShowName.createdDate != null">
	        CREATED_DATE = #{partyAttributes.isShowName.createdDate,jdbcType=TIMESTAMP},
	      </if>
	      <if test="partyAttributes.isShowName.lastUpdateUser != null">
	        LAST_UPDATE_USER = #{partyAttributes.isShowName.lastUpdateUser,jdbcType=VARCHAR},
	      </if>
	      <if test="partyAttributes.isShowName.lastUpdateDate != null">
	        LAST_UPDATE_DATE = #{partyAttributes.isShowName.lastUpdateDate,jdbcType=TIMESTAMP},
	      </if>
	    </set>
	    where ATTR_NAME = 'IS_SUP_PRICE' AND PARTY_ID = #{id,jdbcType=VARCHAR}
  </update>
	 <update id="updateEnterpriseAttribute" parameterType="com.yikuyi.party.model.Party">
		update PARTY_ATTRIBUTE
		<set>
			<if test="description != null">
				ATTR_VALUE = #{description,jdbcType=LONGVARCHAR},
			</if>
			<if test="lastUpdateUser != null">
				LAST_UPDATE_USER = #{lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="lastUpdateDate != null">
				LAST_UPDATE_DATE = #{lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</set>
		where PARTY_ID = #{id,jdbcType=VARCHAR} and ATTR_NAME = #{externalId,jdbcType=VARCHAR}
	</update>
	
		<!-- 注册地址 -->
	<insert id="insertRegAddr" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.registeAddr.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.registeAddr.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.registeAddr.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.registeAddr.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.registeAddr.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.registeAddr.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.registeAddr.key != null">
				#{partyAttributes.registeAddr.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.registeAddr.value != null">
				#{partyAttributes.registeAddr.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.registeAddr.creator != null">
				#{partyAttributes.registeAddr.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.registeAddr.createdDate != null">
				#{partyAttributes.registeAddr.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.registeAddr.lastUpdateUser != null">
				#{partyAttributes.registeAddr.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.registeAddr.lastUpdateDate != null">
				#{partyAttributes.registeAddr.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
		<!-- 营业执照类型 -->
	<insert id="insertBusiLisType" parameterType="com.yikuyi.party.model.Party">
		insert into PARTY_ATTRIBUTE
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				PARTY_ID,
			</if>
			<if test="partyAttributes.busiLisType.key != null">
				ATTR_NAME,
			</if>
			<if test="partyAttributes.busiLisType.value != null">
				ATTR_VALUE,
			</if>
			<if test="partyAttributes.busiLisType.creator != null">
				CREATOR,
			</if>
			<if test="partyAttributes.busiLisType.createdDate != null">
				CREATED_DATE,
			</if>
			<if test="partyAttributes.busiLisType.lastUpdateUser != null">
				LAST_UPDATE_USER,
			</if>
			<if test="partyAttributes.busiLisType.lastUpdateDate != null">
				LAST_UPDATE_DATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.busiLisType.key != null">
				#{partyAttributes.busiLisType.key,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.busiLisType.value != null">
				#{partyAttributes.busiLisType.value,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.busiLisType.creator != null">
				#{partyAttributes.busiLisType.creator,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.busiLisType.createdDate != null">
				#{partyAttributes.busiLisType.createdDate,jdbcType=TIMESTAMP},
			</if>
			<if test="partyAttributes.busiLisType.lastUpdateUser != null">
				#{partyAttributes.busiLisType.lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="partyAttributes.busiLisType.lastUpdateDate != null">
				#{partyAttributes.busiLisType.lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	<select id="getAttrByKey" resultMap="BaseResultMap">
		SELECT ATTR_NAME,ATTR_VALUE FROM `PARTY_ATTRIBUTE` WHERE
		PARTY_ID=#{id,jdbcType=VARCHAR} and ATTR_NAME=#{attrName,jdbcType=VARCHAR}
	</select>
	<!--修改企业资质信息  -->
	 <update id="updateEntInfo" parameterType="com.yikuyi.party.model.Party">
		update PARTY_ATTRIBUTE
		<set>
			<if test="description != null">
				ATTR_VALUE = #{description,jdbcType=LONGVARCHAR},
			</if>
			<if test="lastUpdateUser != null">
				LAST_UPDATE_USER = #{lastUpdateUser,jdbcType=VARCHAR},
			</if>
			<if test="lastUpdateDate != null">
				LAST_UPDATE_DATE = #{lastUpdateDate,jdbcType=TIMESTAMP},
			</if>
		</set>
		where ATTR_ID = #{id,jdbcType=VARCHAR} and ATTR_NAME = #{externalId,jdbcType=VARCHAR}
	</update>
	<delete id="deleteByIdOrKey" parameterType="com.yikuyi.party.model.Party" >
       DELETE FROM `PARTY_ATTRIBUTE` WHERE `PARTY_ID`=#{id,jdbcType=VARCHAR} 
       <if test="partyAttributes.keyList != null and partyAttributes.keyList.size() !=0">
			AND `ATTR_NAME` IN
	        <foreach collection="partyAttributes.keyList" item="ids" index="index" open="(" close=")" separator=",">
	            #{ids}
	        </foreach>
        </if>
  </delete>
     <!-- 查询是否有符号条件的组织机构代码 -->
	<select id="findPartyCodeList" resultType="com.yikuyi.party.contact.vo.EnterpriseVo" parameterType="java.lang.String">
	SELECT t.`GROUP_NAME` as name,
	       t3.`PARTY_ID` as id,
	       t2.ATTR_VALUE as reason,
	       t3.PARTY_CODE as partyCode
	    FROM `PARTY_GROUP` t LEFT JOIN `PARTY_ATTRIBUTE` t2 ON t.`PARTY_ID` = t2.`PARTY_ID`
	    LEFT JOIN `PARTY` t3 ON t.`PARTY_ID` = t3.`PARTY_ID`
	    WHERE t3.`PARTY_TYPE_ID` = 'VIP_CORPORATION'
	     <if test="attrName != null">
	      AND  t2.`ATTR_NAME` = #{attrName}
	    </if>
	    <if test="name != null">
	      AND  t.`GROUP_NAME` =  #{name}
	    </if>
	    <if test="attrValue != null">
          AND t2.`ATTR_VALUE`= #{attrValue}
        </if>
	</select>
	
</mapper>