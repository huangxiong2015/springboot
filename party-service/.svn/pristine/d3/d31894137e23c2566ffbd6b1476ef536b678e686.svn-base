<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yikuyi.party.party.dao.PartyPermissionDao">

	<select id="findPermissionByPartyId" resultType="java.lang.String">
		SELECT
		a.PERMISSION_ID
		FROM `SECURITY_ROLE_PERMISSION` a where ( a.PARTY_ID = #{partyGroupId} or a.PARTY_ID = '*' )
		AND ROLE_TYPE_ID IN ( SELECT b.ROLE_TYPE_ID FROM `PARTY_ROLE` b where b.PARTY_ID = #{partyId} )
	</select>
	
</mapper>