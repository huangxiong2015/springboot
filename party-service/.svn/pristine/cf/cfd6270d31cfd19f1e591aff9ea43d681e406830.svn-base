<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yikuyi.party.vendor.dao.PartyProductLineDao">
   <resultMap id="BaseResultVendorInfoMap" type="com.yikuyi.party.vendor.vo.PartyProductLine">
		<id column="PARTY_PRODUCT_LINE_ID" property="partyProductLineId"/>
		<result column="PARTY_ID" property="partyId"/>
		<result column="BRAND_ID" property="brandId"/>
		<result column="BRAND_NAME" property="brandName"/>
		<result column="CATEGORY_1_ID" property="category1Id"/>
		<result column="CATEGORY_2_ID" property="category2Id"/>
		<result column="CATEGORY_3_ID" property="category3Id"/>
		<result column="CATEGORY_1_NAME" property="category1Name"/>
		<result column="CATEGORY_2_NAME" property="category2Name"/>
		<result column="CATEGORY_3_NAME" property="category3Name"/>
		<result column="STATUS" property="status"/>
		<result column="CREATOR" property="creator"/>
		<result column="CREATED_DATE" property="createdDate"/>
		<result column="LAST_UPDATE_USER" property="lastUpdateUser"/>
		<result column="LAST_UPDATE_DATE" property="lastUpdateDate"/>
</resultMap>
  
  <select id="findById" resultMap="BaseResultVendorInfoMap" parameterType="java.lang.String">
	    select * from PARTY_PRODUCT_LINE p
		where p.`PARTY_PRODUCT_LINE_ID` = #{partyProductLineId} 
  </select>
  
  <select id="findByEntity" resultMap="BaseResultVendorInfoMap" parameterType="com.yikuyi.party.vendor.vo.PartyProductLine">
	    select 
	        PARTY_PRODUCT_LINE_ID,
	        PARTY_ID,
	        BRAND_ID,
	        BRAND_NAME,
	        CATEGORY_1_ID,
	        CATEGORY_2_ID,
	        CATEGORY_3_ID,
	        CATEGORY_1_NAME,
	        CATEGORY_2_NAME,
	        CATEGORY_3_NAME,
	        STATUS,
	        CREATOR,
	        CREATED_DATE,
	        LAST_UPDATE_USER,
	        LAST_UPDATE_DATE   
	     from PARTY_PRODUCT_LINE p
	    <where>
	        <if test="partyProductLineId != null" >
			  and p.`PARTY_PRODUCT_LINE_ID` = #{partyProductLineId} 
		    </if>
		    <if test="partyId != null" >
			  and p.`PARTY_ID` = #{partyId} 
		    </if>	
		</where>    	    
  </select>
  
  <insert id="insertLineList" parameterType="com.yikuyi.party.vendor.vo.PartyProductLine" >
  	INSERT INTO PARTY_PRODUCT_LINE(
	  `PARTY_PRODUCT_LINE_ID`,
	  `PARTY_ID`,
	  `BRAND_ID`,
	  `BRAND_NAME`,
	  `CATEGORY_1_ID`,
	  `CATEGORY_1_NAME`,
	  `CATEGORY_2_ID`,
	  `CATEGORY_2_NAME`,
	  `CATEGORY_3_ID`,
	  `CATEGORY_3_NAME`,
	  `STATUS`,
	  `CREATOR`,
	  `CREATED_DATE`,
	  `LAST_UPDATE_USER`,
	  `LAST_UPDATE_DATE`
	)
	VALUES                
	 <foreach collection="pList" item="item" index="index" separator="," >  
       (#{item.partyProductLineId},
        #{item.partyId},
        #{item.brandId},
        #{item.brandName},
        #{item.category1Id},
        #{item.category1Name},
        #{item.category2Id},
        #{item.category2Name},
        #{item.category3Id},
        #{item.category3Name},
        #{item.status},
        #{item.creator},
        #{item.createdDate},
        #{item.lastUpdateUser},
        #{item.lastUpdateDate})  
    </foreach> 
  </insert>
  
  <select id="findByPartyId" resultMap="BaseResultVendorInfoMap" parameterType="java.lang.String">
	    select * from PARTY_PRODUCT_LINE p
		where p.`PARTY_PRODUCT_LINE_ID` = #{partyProductLineId} 
  </select>
  
  <insert id="insert" parameterType="com.yikuyi.party.vendor.vo.PartyProductLineJS" >
  	INSERT INTO PARTY_PRODUCT_LINE
  	<trim prefix="(" suffix=")" suffixOverrides="," >	
  		<if test="partyProductLineId !=null">
  			`PARTY_PRODUCT_LINE_ID`,
  		</if>
  		<if test="partyId !=null">
  			`PARTY_ID`,
  		</if>
  		<if test="brandId !=null">
  			`BRAND_ID`,
  		</if>
  		<if test="brandName !=null">
  			`BRAND_NAME`,
  		</if>
  		<if test="category1Id !=null">		
	        `CATEGORY_1_ID`,
  		</if>
  		<if test="category1Name !=null">		
	        `CATEGORY_1_NAME`,
  		</if>
  		<if test="category2Id !=null">		
	        `CATEGORY_2_ID`,
  		</if>
  		<if test="category2Name !=null">		
	        `CATEGORY_2_NAME`,
  		</if>
  		<if test="category3Id !=null">		
	         `CATEGORY_3_ID`,
  		</if>
  		<if test="category3Name !=null">		
	         `CATEGORY_3_NAME`,
  		</if>
  		<if test="status !=null">		
	         `STATUS`,
  		</if>
  		<if test="creator !=null">		
	         `CREATOR`,
  		</if>
  		<!-- <if test="createdDate !=null">		
	         `CREATED_DATE`,
  		</if> -->
  		<if test="lastUpdateUser !=null">		
	         `LAST_UPDATE_USER`,
  		</if>
  		<!-- <if test="lastUpdateDate !=null">		
	         `LAST_UPDATE_DATE`,
  		</if> -->
	</trim>
	<trim prefix="values (" suffix=")" suffixOverrides="," >	                
	 <if test="partyProductLineId !=null">
  			#{partyProductLineId},
  		</if>
  		<if test="partyId !=null">
  			#{partyId},
  		</if>
  		<if test="brandId !=null">
  			#{brandId},
  		</if>
  		<if test="brandName !=null">
  			#{brandName},
  		</if>
  		<if test="category1Id !=null">		
	        #{category1Id},
  		</if>
  		<if test="category1Name !=null">		
	        #{category1Name},
  		</if>
  		<if test="category2Id !=null">		
	        #{category2Id},
  		</if>
  		<if test="category2Name !=null">		
	        #{category2Name},
  		</if>
  		<if test="category3Id !=null">		
	        #{category3Id},
  		</if>
  		<if test="category3Name !=null">		
	        #{category3Name},
  		</if>
  		<if test="status !=null">		
	        #{status},
  		</if>
  		<if test="creator !=null">		
	        #{creator},
  		</if>
  		<!-- <if test="createdDate !=null">		
	        #{createdDate},
  		</if> -->
  		<if test="lastUpdateUser !=null">		
	        #{lastUpdateUser},
  		</if>
  		<!-- <if test="lastUpdateDate !=null">		
	        #{lastUpdateDate},
  		</if> -->
  	</trim>
  </insert>
  
  <delete id="deleteById" parameterType="java.lang.String">
  		delete from PARTY_PRODUCT_LINE where PARTY_PRODUCT_LINE_ID = #{partyProductLineId}
  </delete>
  
  <delete id="deleteByPartyId" parameterType="java.lang.String"> 
         DELETE FROM PARTY_PRODUCT_LINE WHERE PARTY_ID = #{partyId}
  </delete>
  
</mapper>