package com.yikuyi.party.address.api.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.yikuyi.basedata.common.model.Currency;
import com.yikuyi.party.address.IAddressResourceV8;
import com.yikuyi.party.address.bll.AddressManagerV8;
import com.yikuyi.party.address.vo.AddressVo;

/**
 * 定义收货地址的相关接口
 * @author zr.wuxiansheng@yikuyi.com
 * @version 1.0.0
 */

@RestController
@RequestMapping("v8/address")
public class AddressResourceV8 implements IAddressResourceV8 {

	
	@Autowired
	private AddressManagerV8 addressManagerV8;

	/**
	 * 查询用户的所有收货地址(移动端)
	 */
	@Override
	@RequestMapping(value="/shipping", method = RequestMethod.GET)
	public List<AddressVo> getAddressShippingList(@RequestParam(required = true) String partyId,@RequestParam(required = false) Currency currency) {
		return addressManagerV8.getAddressShipingList(partyId,currency);
	}

	/**
	 * 新增收货地址(移动端)
	 */
	@Override
	@RequestMapping(value="/shipping",method = RequestMethod.POST)
	public AddressVo save(@RequestBody AddressVo addressVo) {
		return addressManagerV8.saveAddressVo(addressVo);
	}

	/**
	 * 查询收货地址(移动端)详情
	 */
	@Override
	@RequestMapping(value="/shipping/{addressId}",method = RequestMethod.GET)
	public AddressVo getAddressVo(@PathVariable("addressId")String addressId) {
		return addressManagerV8.getAddressVo(addressId);
	}
	
	/**
	 * 编辑收货地址(移动端)
	 */
	@Override
	@RequestMapping(value="/shipping/{addressId}",method = RequestMethod.PUT)
	public AddressVo update(@PathVariable("addressId")String addressId,@RequestBody AddressVo addressVo) {
		return addressManagerV8.updateAddressVo(addressId,addressVo);
	}

	/**
	 * 删除收货地址
	 */
	@Override
	@RequestMapping(value="/shipping/{addressId}",method = RequestMethod.DELETE)
	public void delete(@PathVariable("addressId")String addressId) {
		addressManagerV8.deleteAddressVo(addressId);
	}

	/**
	 * 设置默认收货地址(移动端)
	 */
	@Override
	@RequestMapping(value="/shipping/{addressId}/default",method = RequestMethod.PUT)
	public void setDefaultAddressVo(@PathVariable("addressId")String addressId,@RequestBody AddressVo addressVo) {
		addressManagerV8.setDefaultAddress(addressId,addressVo);
		
	}

	

	
}