/*
 * Created: 2016年4月1日
 *
 * Shenzhen Yikuyi Co., Ltd. All rights reserved. 
 * Copyright (c) 2015-2016 
 * License, Version 1.0. Published by Yikuyi IT department.
 *
 * For the convenience of communicating and reusing of codes,
 * any java names, variables as well as comments should be written according to the regulations strictly.
 */
package com.ykyframework.utils.file.impl;

/**
 * @author liaoke@yikuyi.com
 * @version 1.0.0
 */
@Deprecated
public class FileOperationForAliyunOSS {
//public class FileOperationForAliyunOSS implements FileOperationInter {

//	private List<AliyunOSSBucket> bucketList;
//
//	public FileOperationForAliyunOSS() {
//
//	}
//	
//
//	public void setBucketList(List<AliyunOSSBucket> bucketList) {
//		this.bucketList = bucketList;
//	}
//
//	@Override
//	public String write(InputStream in, String targetPath) throws Exception {
//		// TODO Auto-generated method stub
//		return this.write(FileUtils.create().convertInputStreamToBytes(in), targetPath);
//	}
//
//	/*
//	 * targetPath 命名规则为 xx/aaa/
//	 */
//	@Override
//	public String write(String in, String targetPath) throws Exception {
//		// TODO Auto-generated method stub
//		return this.write(in.getBytes(), targetPath);
//	}
//
//	@Override
//	public String write(byte[] in, String targetPath) throws Exception {
//		// TODO Auto-generated method stub
//		String filename = targetPath + UUID.randomUUID().toString() + ".file";
//		AliyunOSSBucket bocuket = getBucket();
//		OSSClient client = getOSSClient(bocuket);
//		client.putObject(bocuket.getName(), filename, new ByteArrayInputStream(in));
//		client.shutdown();
//		return bocuket.getName() + "/" + filename;
//	}
//
//	@Override
//	public InputStream read(String filePath) throws Exception {
//		String bucketName = FileUtils.create().getRootPath(filePath);
//		int index = filePath.indexOf(bucketName);
//		String path = filePath.substring(index + bucketName.length()+1);
//		AliyunOSSBucket bocuket = getBucketByName(bucketName);
//		OSSClient client = getOSSClient(bocuket);
//		OSSObject object = client.getObject(new GetObjectRequest(bucketName, path));
//		InputStream in = object.getObjectContent();
//		return in;
//	}
//
//	private AliyunOSSBucket getBucket() {
//		if (bucketList.size() == 1)
//			return bucketList.get(0);
//		int bucketIndex = Double.valueOf(Math.random() * bucketList.size()).intValue();
//		return bucketList.get(bucketIndex);
//	}
//
//	private OSSClient getOSSClient(AliyunOSSBucket bocuket) {
//		return new OSSClient(bocuket.getEndpoint(), accessKeyId, accessKeySecret);
//	}
//
//	private AliyunOSSBucket getBucketByName(String name) {
//		for (AliyunOSSBucket backet : bucketList) {
//			if (name.equals(backet.getName())) {
//				return backet;
//			}
//		}
//		return null;
//	}
//	
//	private String accessKeyId = "VxNn7M18JSgrNI0H";
//	private String accessKeySecret = "pxuAUHeyktq3OjCMdndfC2ShB7jmiN";
//	
//	public void setAccessKeyId(String accessKeyId) {
//		this.accessKeyId = accessKeyId;
//	}
//
//	public void setAccessKeySecret(String accessKeySecret) {
//		this.accessKeySecret = accessKeySecret;
//	}
}
